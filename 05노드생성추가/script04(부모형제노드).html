<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      table {
        border-spacing: 0;
        border-collapse: collapse;
      }
      thead th,
      tbody td {
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <table>
      <thead>
        <tr>
          <th>이동</th>
          <th>번호</th>
          <th>이름</th>
          <th>내용</th>
          <th>날짜</th>
        </tr>
      </thead>

      <tbody class="table">
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>1</td>
          <td>홍길자</td>
          <td>안녕!</td>
          <td>2019-01-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>2</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>3</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>4</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
        <tr>
          <td>
            <button onclick="down(this)">↓</button
            ><button onclick="up(this)">↑</button>
          </td>
          <td>5</td>
          <td>이순신</td>
          <td>반가워</td>
          <td>2019-02-01</td>
        </tr>
      </tbody>
    </table>

    <script>
      function down(node) {
        // console.log(node);
        // console.log(node.parentElement); // 부모 태그
        // console.log(node.nextElementSibling); //버튼 태그의 다음 형제
        // console.log(node.nextSibling); //다음 형제 - 다음형제 사이에 공백이 있으면,
        // 공백이 출력 (Element 키워드가 붙은 속성을 쓰면 됨)
        // console.log(node.previousElementSibling); //이전 형제

        // console.log(node.parentElement.parentElement.firstElementChild); //tr의 첫번째 자식
        // console.log(node.parentElement.parentElement.lastElementChild); //tr의 막내
        // console.log(node.parentElement.parentElement.children); //tr의 자식들
    
        // console.dir(node); //사용가능 속성 다나옴
    
        // 부모.insertBefore(삽입할노드, 기준노드) // 기준 노드 앞으로 삽입할 노드를 옮김
    
        var table = document.querySelector(".table"); // 부모
        var current = node.parentElement.parentElement;    //현재노드 tr
        var next = current. nextElementSibling; //다음행

        if(next == null) {
            alert('마지막 행입니다');
            return; //함수종료
        }


        // console.log(table);
        // console.log(current);
        // console.log(next);

        table.insertBefore( next, current); //삽입노드 , 기준노드

    }

    //up버튼
    function up(node) {
        // console.log(node);


        var table = document.querySelector(".table"); //부모
        var current = node.parentElement.parentElement; //현재행
        var previous = current.previousElementSibling; 

        if(previous == null) {
            alert('첫번째 행입니다');
            return; //함수종료
        }


        table.insertBefore(current, previous);
        
    }
    </script>
  </body>
</html>
